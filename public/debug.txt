SQLSTATE[23505]: Unique violation: 7 ERROR:  llave duplicada viola restricción de unicidad «traspasos_pkey»
DETAIL:  Ya existe la llave (id)=(3). (Connection: pgsql, SQL: insert into "traspasos" ("producto_id", "almacen_origen_id", "almacen_destino_id", "cantidad", "estado", "usuario_autoriza", "usuario_envia", "fecha_envio", "fecha_recepcion", "observaciones", "referencia", "costo_transporte", "updated_at", "created_at") values (8, 3, 1, 1, completado, 1, 1, 2025-11-22 19:27:54, 2025-11-22 19:27:54, ?, ?, ?, 2025-11-22 19:27:54, 2025-11-22 19:27:54) returning "id")
#0 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Connection.php(779): Illuminate\Database\Connection->runQueryCallback()
#1 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Connection.php(398): Illuminate\Database\Connection->run()
#2 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Connection.php(385): Illuminate\Database\Connection->select()
#3 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Query\Processors\PostgresProcessor.php(24): Illuminate\Database\Connection->selectFromWriteConnection()
#4 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3766): Illuminate\Database\Query\Processors\PostgresProcessor->processInsertGetId()
#5 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(2120): Illuminate\Database\Query\Builder->insertGetId()
#6 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1359): Illuminate\Database\Eloquent\Builder->__call()
#7 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1324): Illuminate\Database\Eloquent\Model->insertAndSetId()
#8 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(1163): Illuminate\Database\Eloquent\Model->performInsert()
#9 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1128): Illuminate\Database\Eloquent\Model->save()
#10 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Support\helpers.php(399): Illuminate\Database\Eloquent\Builder->{closure:Illuminate\Database\Eloquent\Builder::create():1127}()
#11 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1127): tap()
#12 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php(23): Illuminate\Database\Eloquent\Builder->create()
#13 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2372): Illuminate\Database\Eloquent\Model->forwardCallTo()
#14 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php(2384): Illuminate\Database\Eloquent\Model->__call()
#15 C:\inetpub\wwwroot\cdd_app\app\Http\Controllers\TraspasoController.php(223): Illuminate\Database\Eloquent\Model::__callStatic()
#16 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\Concerns\ManagesTransactions.php(32): App\Http\Controllers\TraspasoController->{closure:App\Http\Controllers\TraspasoController::store():173}()
#17 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Database\DatabaseManager.php(495): Illuminate\Database\Connection->transaction()
#18 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Support\Facades\Facade.php(361): Illuminate\Database\DatabaseManager->__call()
#19 C:\inetpub\wwwroot\cdd_app\app\Http\Controllers\TraspasoController.php(173): Illuminate\Support\Facades\Facade::__callStatic()
#20 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(47): App\Http\Controllers\TraspasoController->store()
#21 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\ControllerDispatcher->dispatch()
#22 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Routing\Route.php(212): Illuminate\Routing\Route->runController()
#23 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Routing\Router.php(808): Illuminate\Routing\Route->run()
#24 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(170): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():807}()
#25 C:\inetpub\wwwroot\cdd_app\app\Http\Middleware\RoleMiddleware.php(22): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#26 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): App\Http\Middleware\RoleMiddleware->handle()
#27 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Auth\Middleware\EnsureEmailIsVerified.php(41): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#28 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Auth\Middleware\EnsureEmailIsVerified->handle()
#29 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets.php(20): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#30 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle()
#31 C:\inetpub\wwwroot\cdd_app\vendor\inertiajs\inertia-laravel\src\Middleware.php(86): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#32 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Inertia\Middleware->handle()
#33 C:\inetpub\wwwroot\cdd_app\vendor\laravel\jetstream\src\Http\Middleware\ShareInertiaData.php(69): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#34 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Laravel\Jetstream\Http\Middleware\ShareInertiaData->handle()
#35 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(51): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#36 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#37 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Session\Middleware\AuthenticateSession.php(67): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#38 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Session\Middleware\AuthenticateSession->handle()
#39 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(64): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#40 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Auth\Middleware\Authenticate->handle()
#41 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(88): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#42 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#43 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#44 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#45 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(121): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#46 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(64): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#47 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Session\Middleware\StartSession->handle()
#48 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(37): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#49 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#50 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(75): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#51 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#52 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#53 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Routing\Router.php(807): Illuminate\Pipeline\Pipeline->then()
#54 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Routing\Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#55 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Routing\Router.php(750): Illuminate\Routing\Router->runRoute()
#56 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Routing\Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#57 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(201): Illuminate\Routing\Router->dispatch()
#58 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(170): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():198}()
#59 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():168}()
#60 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#61 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#62 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#63 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#64 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#65 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#66 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#67 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#68 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#69 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(49): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#70 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#71 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#72 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#73 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#74 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#75 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(127): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():184}:185}()
#76 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#77 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#78 C:\inetpub\wwwroot\cdd_app\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1220): Illuminate\Foundation\Http\Kernel->handle()
#79 C:\inetpub\wwwroot\cdd_app\public\index.php(17): Illuminate\Foundation\Application->handleRequest()
#80 {main}