# ğŸ« GuÃ­a Completa del MÃ³dulo de Citas y Visitas TÃ©cnicas

Esta guÃ­a detalla cÃ³mo utilizar el nuevo ecosistema unificado de **Soporte â¡ï¸ Servicio â¡ï¸ Ventas**.

---

## ğŸ”„ El Ciclo de Servicio (Service Cycle)
El sistema estÃ¡ diseÃ±ado para que la informaciÃ³n fluya sin fricciones entre departamentos:
1. **Soporte:** Recibe el reporte y genera un **Ticket**.
2. **CoordinaciÃ³n:** Agenda una **Cita** tÃ©cnica vinculada al ticket.
3. **TÃ©cnico:** Realiza el servicio, toma fotos y registra los materiales usados.
4. **Ventas/Caja:** Genera el cobro (**Venta**) automÃ¡ticamente basado en el reporte tÃ©cnico.

---

## 1. ğŸ“ CreaciÃ³n de Citas

Existen tres formas de agendar una visita:

### A. Desde un Ticket de Soporte (Recomendado)
1. Entra al mÃ³dulo de **Soporte** y abre un ticket activo.
2. Haz clic en el botÃ³n **"ğŸ« Agendar Cita"**.
3. El sistema cargarÃ¡ automÃ¡ticamente:
   - Los datos del cliente.
   - El tipo de equipo reportado.
   - Un enlace visual al ticket original.

### B. Desde el Calendario
1. Ve a **Citas â¡ï¸ Calendario**.
2. Haz clic en el botÃ³n **"Nueva Cita"** o directamente sobre el horario deseado.
3. Selecciona al cliente y asigna un tÃ©cnico.

### C. Desde la Vista 360 del Cliente
1. Busca al cliente en el mÃ³dulo de **Clientes**.
2. En la secciÃ³n de acciones rÃ¡pidas (arriba a la derecha), haz clic en **"+ Cita"**.

---

## 2. ğŸ› ï¸ GestiÃ³n de la Visita (Para TÃ©cnicos)

Cuando el tÃ©cnico llega al sitio, debe seguir estos pasos en su dispositivo:

1. **Iniciar Servicio:** Cambiar el estado a **"En Proceso"**. Esto registra la hora de inicio real.
2. **DocumentaciÃ³n:**
   - Sube la **Foto del Equipo** al llegar.
   - Registra el **Problema Detectado**.
3. **Inventario y Servicios:**
   - En la secciÃ³n "Productos y Servicios", agrega todo lo utilizado (ej: Gas refrigerante, capacitor, mano de obra).
4. **Finalizar:** 
   - Sube la foto de la **Hoja de Servicio** firmada.
   - Cambia el estado a **"Completado"**.

---

## 3. ğŸ’° Cierre y GeneraciÃ³n de Cobro

Una vez finalizada la cita, el personal administrativo o el mismo tÃ©cnico puede proceder al cobro:

1. En la vista de la cita completada, haz clic en **"ğŸ’° Generar Cobro (Venta)"**.
2. Se abrirÃ¡ la pantalla de **Nueva Venta** con:
   - Todo el inventario ya precargado.
   - Precios calculados segÃºn la lista de precios del cliente.
   - Nota de referencia indicando de quÃ© cita proviene.
3. Elige el **MÃ©todo de Pago** y finaliza la venta.

> ğŸ’¡ **Nota:** Si la cita ya tiene una venta generada, aparecerÃ¡ un botÃ³n verde indicando **"Ver Venta"** para evitar cobros duplicados.

---

## ğŸ“Š Vista 360 del Cliente

Para conocer el historial de un cliente:
1. Ve al perfil del cliente.
2. PodrÃ¡s ver de un vistazo:
   - **Tickets:** Â¿CuÃ¡ntos problemas ha reportado?
   - **Citas:** Â¿CuÃ¡ndo fue nuestra Ãºltima visita y quÃ© tÃ©cnico fue?
   - **Ventas:** Â¿CuÃ¡nto ha pagado por servicios?
   - **PÃ³lizas:** Â¿Tiene un contrato de mantenimiento vigente?

---

## ğŸ’¡ Consejos Pro
- **GarantÃ­as:** Si creas una cita de tipo "GarantÃ­a", el sistema la marcarÃ¡ visualmente para que el tÃ©cnico sepa que es una prioridad especial.
- **RelaciÃ³n con Tickets:** Siempre que sea posible, crea la cita desde el ticket. Esto permite que el Ã¡rea de soporte sepa en tiempo real si el tÃ©cnico ya resolviÃ³ el problema.
- **Evidencias:** Las fotos subidas en la cita son vitales para resolver disputas con clientes o para validaciÃ³n de garantÃ­as con proveedores.
